parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function Z(a){return a&&a.__esModule?{d:a.default}:{d:a}}var h;var m={};void 0===Date.now&&(Date.now=function(){return new Date().valueOf()});var d=d||function(){var n=[];return{REVISION:"8",getAll:function(){return n},removeAll:function(){n=[]},add:function(t){n.push(t)},remove:function(t){var r=n.indexOf(t);-1!==r&&n.splice(r,1)},update:function(t){if(0===n.length)return!1;var r=0,u=n.length;for(t=void 0!==t?t:Date.now();r<u;)n[r].update(t)?r++:(n.splice(r,1),u--);return!0}}}();d.Tween=function(n){var t=n,r={},u={},i=1e3,a=0,o=null,e=d.Easing.Linear.None,f=d.Interpolation.Linear,c=[],h=null,l=!1,s=null,$=null;this.to=function(n,t){return void 0!==t&&(i=t),u=n,this},this.start=function(n){for(var i in d.add(this),l=!1,o=void 0!==n?n:Date.now(),o+=a,u)if(null!==t[i]&&i in t){if(u[i]instanceof Array){if(0===u[i].length)continue;u[i]=[t[i]].concat(u[i])}r[i]=t[i]}return this},this.stop=function(){return d.remove(this),this},this.delay=function(n){return a=n,this},this.easing=function(n){return e=n,this},this.interpolation=function(n){return f=n,this},this.chain=function(){return c=arguments,this},this.onStart=function(n){return h=n,this},this.onUpdate=function(n){return s=n,this},this.onComplete=function(n){return $=n,this},this.update=function(n){if(n<o)return!0;!1===l&&(null!==h&&h.call(t),l=!0);var a=(n-o)/i,v=e(a=a>1?1:a);for(var E in r){var I=r[E],M=u[E];M instanceof Array?t[E]=f(M,v):t[E]=I+(M-I)*v}if(null!==s&&s.call(t,v),1==a){null!==$&&$.call(t);for(var p=0,B=c.length;p<B;p++)c[p].start(n);return!1}return!0}},d.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},Out:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},InOut:function(n){var t,r=.1;return 0===n?0:1===n?1:(!r||r<1?(r=1,t=.1):t=.4*Math.asin(1/r)/(2*Math.PI),(n*=2)<1?r*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(n){var t=1.70158;return n*n*((t+1)*n-t)},Out:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},InOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)}},Bounce:{In:function(n){return 1-d.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*d.Easing.Bounce.In(2*n):.5*d.Easing.Bounce.Out(2*n-1)+.5}}},d.Interpolation={Linear:function(n,t){var r=n.length-1,u=r*t,i=Math.floor(u),a=d.Interpolation.Utils.Linear;return t<0?a(n[0],n[1],u):t>1?a(n[r],n[r-1],r-u):a(n[i],n[i+1>r?r:i+1],u-i)},Bezier:function(n,t){var r,u=0,i=n.length-1,a=Math.pow,o=d.Interpolation.Utils.Bernstein;for(r=0;r<=i;r++)u+=a(1-t,i-r)*a(t,r)*n[r]*o(i,r);return u},CatmullRom:function(n,t){var r=n.length-1,u=r*t,i=Math.floor(u),a=d.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(t<0&&(i=Math.floor(u=r*(1+t))),a(n[(i-1+r)%r],n[i],n[(i+1)%r],n[(i+2)%r],u-i)):t<0?n[0]-(a(n[0],n[0],n[1],n[1],-u)-n[0]):t>1?n[r]-(a(n[r],n[r],n[r-1],n[r-1],u-r)-n[r]):a(n[i?i-1:0],n[i],n[r<i+1?r:i+1],n[r<i+2?r:i+2],u-i)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=d.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var n=[1];return function(t){var r,u=1;if(n[t])return n[t];for(r=t;r>1;r--)u*=r;return n[t]=u}}(),CatmullRom:function(n,t,r,u,i){var a=.5*(r-n),o=.5*(u-t),e=i*i;return(2*t-2*r+a+o)*(i*e)+(-3*t+3*r-2*a-o)*e+a*i+t}}},m=d;var _={};_=function(r,e){var c,n=0,t=[];Array.prototype.filter.call(r.querySelectorAll("img"),function(r){if(""===r.src)return!1;var e=new Image;return e.src=r.src,!e.complete}).forEach(function(r){t.push({src:r.src,element:r})}),c=t.length,n=0,0===c&&e.call(r),t.forEach(function(t){var a=new Image;a.addEventListener("load",function(){if(++n===c)return e.call(r),!1}),a.src=t.src})};function G(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function H(a,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function v(a,t,e){return t&&H(a.prototype,t),e&&H(a,e),a}function aa(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),t&&ca(a,t)}function ba(a){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ca(a,t){return(ca=Object.setPrototypeOf||function(a,t){return a.__proto__=t,a})(a,t)}function I(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function da(a,t){return!t||"object"!=typeof t&&"function"!=typeof t?I(a):t}var b,k,f,x,w,J,A,B,q,z,ea=function(){function a(){G(this,a),this._listeners={}}return v(a,[{key:"addEventListener",value:function(a,t){var e=this._listeners;void 0===e[a]&&(e[a]=[]),-1===e[a].indexOf(t)&&e[a].push(t)}},{key:"hasEventListener",value:function(a,t){var e=this._listeners;return void 0!==e[a]&&-1!==e[a].indexOf(t)}},{key:"removeEventListener",value:function(a,t){var e=this._listeners[a];if(void 0!==e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}}},{key:"dispatchEvent",value:function(a){var t=this._listeners[a.type];if(void 0!==t){a.target=this;for(var e=t.slice(0),r=0,i=e.length;r<i;r++)e[r].call(this,a)}}}]),a}(),p=.001,y=2*Math.PI,g={NONE:-1,ROTATE:0,DOLLY:1,TRUCK:2,TOUCH_ROTATE:3,TOUCH_DOLLY_TRUCK:4,TOUCH_TRUCK:5},K=function(a){function t(a,e){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(G(this,t),(r=da(this,ba(t).call(this)))._camera=a,r._state=g.NONE,r.enabled=!0,r._camera.isPerspectiveCamera?(r.minDistance=0,r.maxDistance=1/0):r._camera.isOrthographicCamera&&(r.minZoom=0,r.maxZoom=1/0),r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r._boundary=new b.Box3(new b.Vector3(-1/0,-1/0,-1/0),new b.Vector3(1/0,1/0,1/0)),r.boundaryFriction=0,r._boundaryEnclosesCamera=!1,r.dampingFactor=.05,r.draggingDampingFactor=.25,r.azimuthRotateSpeed=1,r.polarRotateSpeed=1,r.dollySpeed=1,r.truckSpeed=2,r.dollyToCursor=!1,r.verticalDragToForward=!1,r._domElement=e,r._viewport=null,r._target=new b.Vector3,r._targetEnd=new b.Vector3,r._spherical=new b.Spherical().setFromVector3(r._camera.position),r._sphericalEnd=r._spherical.clone(),r._target0=r._target.clone(),r._position0=r._camera.position.clone(),r._zoom0=r._camera.zoom,r._dollyControlAmount=0,r._dollyControlCoord=new b.Vector2,r._hasUpdated=!0,r.update(0),!r._domElement||i.ignoreDOMEventListeners)r._removeAllEventListeners=function(){};else{var n,s=function(a,t){if(t.set(0,0),fa(a)){for(var e=0;e<a.touches.length;e++)t.x+=a.touches[e].clientX,t.y+=a.touches[e].clientY;return t.x/=a.touches.length,t.y/=a.touches.length,t}return t.set(a.clientX,a.clientY),t},o=function(a){if(p.enabled){a.preventDefault();var t=p._state;switch(a.button){case b.MOUSE.LEFT:p._state=g.ROTATE;break;case b.MOUSE.MIDDLE:p._state=g.DOLLY;break;case b.MOUSE.RIGHT:p._state=g.TRUCK;}t!==p._state&&l(a)}},c=function(a){if(p.enabled){a.preventDefault();var t=p._state;switch(a.touches.length){case 1:p._state=g.TOUCH_ROTATE;break;case 2:p._state=g.TOUCH_DOLLY_TRUCK;break;case 3:p._state=g.TOUCH_TRUCK;}t!==p._state&&l(a)}},$=function(a){if(p.enabled){a.preventDefault();var t,e,r,i=0===navigator.platform.indexOf("Mac")?-1:-3;t=void 0!==a.wheelDelta?a.wheelDelta/120:1===a.deltaMode?a.deltaY/i:a.deltaY/(10*i),p.dollyToCursor&&(n=p._getClientRect(J),e=(a.clientX-n.x)/n.z*2-1,r=(a.clientY-n.y)/n.w*-2+1),u(-t,e,r)}},h=function(a){p.enabled&&a.preventDefault()},l=function(a){if(p.enabled){if(a.preventDefault(),s(a,k),n=p._getClientRect(J),m.copy(k),p._state===g.TOUCH_DOLLY_TRUCK){var t=k.x-a.touches[1].clientX,e=k.y-a.touches[1].clientY,r=Math.sqrt(t*t+e*e);w.set(0,r);var i=.5*(a.touches[0].clientX+a.touches[1].clientX),o=.5*(a.touches[0].clientY+a.touches[1].clientY);m.set(i,o)}document.addEventListener("mousemove",v,{passive:!1}),document.addEventListener("touchmove",v,{passive:!1}),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),p.dispatchEvent({type:"controlstart",originalEvent:a})}},v=function(a){if(p.enabled){a.preventDefault(),s(a,k);var t=m.x-k.x,e=m.y-k.y;switch(m.copy(k),p._state){case g.ROTATE:case g.TOUCH_ROTATE:var r=y*p.azimuthRotateSpeed*t/n.z,i=y*p.polarRotateSpeed*e/n.w;p.rotate(r,i,!0);break;case g.DOLLY:break;case g.TOUCH_DOLLY_TRUCK:var o=k.x-a.touches[1].clientX,c=k.y-a.touches[1].clientY,$=Math.sqrt(o*o+c*c),h=w.y-$,l=p.dollyToCursor?(m.x-n.x)/n.z*2-1:0,v=p.dollyToCursor?(m.y-n.y)/n.w*-2+1:0;u(h/8,l,v),w.set(0,$),d(t,e);break;case g.TRUCK:case g.TOUCH_TRUCK:d(t,e);}p.dispatchEvent({type:"control",originalEvent:a})}},_=function a(t){p.enabled&&(p._state=g.NONE,document.removeEventListener("mousemove",v,{passive:!1}),document.removeEventListener("touchmove",v,{passive:!1}),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a),p.dispatchEvent({type:"controlend",originalEvent:t}))},d=function(a,t){if(p._camera.isPerspectiveCamera){var e=f.copy(p._camera.position).sub(p._target),r=p._camera.fov*b.Math.DEG2RAD,i=e.length()*Math.tan(r/2),s=p.truckSpeed*a*i/n.w,o=p.truckSpeed*t*i/n.w;p.verticalDragToForward?(p.truck(s,0,!0),p.forward(-o,!0)):p.truck(s,o,!0)}else if(p._camera.isOrthographicCamera){var c=a*(p._camera.right-p._camera.left)/p._camera.zoom/n.z,$=t*(p._camera.top-p._camera.bottom)/p._camera.zoom/n.w;p.truck(c,$,!0)}},u=function(a,t,e){var r=Math.pow(.95,-a*p.dollySpeed);if(p._camera.isPerspectiveCamera){var i=p._sphericalEnd.radius*r-p._sphericalEnd.radius,n=p._sphericalEnd.radius;p.dolly(i),p.dollyToCursor&&(p._dollyControlAmount+=p._sphericalEnd.radius-n,p._dollyControlCoord.set(t,e))}else p._camera.isOrthographicCamera&&(p._camera.zoom=Math.max(p.minZoom,Math.min(p.maxZoom,p._camera.zoom*r)),p._camera.updateProjectionMatrix(),p._hasUpdated=!0)},p=I(r),m=new b.Vector2,w=new b.Vector2;r._domElement.addEventListener("mousedown",o),r._domElement.addEventListener("touchstart",c),r._domElement.addEventListener("wheel",$),r._domElement.addEventListener("contextmenu",h),r._removeAllEventListeners=function(){p._domElement.removeEventListener("mousedown",o),p._domElement.removeEventListener("touchstart",c),p._domElement.removeEventListener("wheel",$),p._domElement.removeEventListener("contextmenu",h),document.removeEventListener("mousemove",v),document.removeEventListener("touchmove",v),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_)}}return r}return aa(t,ea),v(t,null,[{key:"install",value:function(a){b=a.THREE,k=new b.Vector2,f=new b.Vector3,x=new b.Vector3,w=new b.Vector3,J=new b.Vector4,A=new b.Vector3,B=new b.Vector3,q=new b.Spherical,z=new b.Spherical}}]),v(t,[{key:"rotate",value:function(a,t,e){this.rotateTo(this._sphericalEnd.theta+a,this._sphericalEnd.phi+t,e)}},{key:"rotateTo",value:function(a,t,e){var r=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,a)),i=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,t));this._sphericalEnd.theta=r,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),e||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi),this._hasUpdated=!0}},{key:"dolly",value:function(a,t){this._camera.isOrthographicCamera?console.warn("dolly is not available for OrthographicCamera"):this.dollyTo(this._sphericalEnd.radius+a,t)}},{key:"dollyTo",value:function(a,t){this._camera.isOrthographicCamera?console.warn("dolly is not available for OrthographicCamera"):(this._sphericalEnd.radius=b.Math.clamp(a,this.minDistance,this.maxDistance),t||(this._spherical.radius=this._sphericalEnd.radius),this._hasUpdated=!0)}},{key:"pan",value:function(a,t,e){console.log("`pan` has been renamed to `truck`"),this.truck(a,t,e)}},{key:"truck",value:function(a,t,e){this._camera.updateMatrix(),A.setFromMatrixColumn(this._camera.matrix,0),B.setFromMatrixColumn(this._camera.matrix,1),A.multiplyScalar(a),B.multiplyScalar(-t);var r=f.copy(A).add(B);this._encloseToBoundary(this._targetEnd,r,this.boundaryFriction),e||this._target.copy(this._targetEnd),this._hasUpdated=!0}},{key:"forward",value:function(a,t){f.setFromMatrixColumn(this._camera.matrix,0),f.crossVectors(this._camera.up,f),f.multiplyScalar(a),this._encloseToBoundary(this._targetEnd,f,this.boundaryFriction),t||this._target.copy(this._targetEnd),this._hasUpdated=!0}},{key:"moveTo",value:function(a,t,e,r){this._targetEnd.set(a,t,e),r||this._target.copy(this._targetEnd),this._hasUpdated=!0}},{key:"fitTo",value:function(a,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._camera.isOrthographicCamera)console.warn("fitTo is not supported for OrthographicCamera");else{var r=e.paddingLeft||0,i=e.paddingRight||0,n=e.paddingBottom||0,s=e.paddingTop||0,o=a.isBox3?a.clone():new b.Box3().setFromObject(a),c=o.getSize(f),$=c.x+r+i,h=c.y+s+n,l=c.z,v=this.getDistanceToFit($,h,l);this.dollyTo(v,t);var _=o.getCenter(f),d=_.x-(.5*r-.5*i),u=_.y+(.5*s-.5*n),p=_.z;this.moveTo(d,u,p,t),this._sanitizeSphericals(),this.rotateTo(0,90*b.Math.DEG2RAD,t)}}},{key:"setLookAt",value:function(a,t,e,r,i,n,s){var o=f.set(a,t,e),c=x.set(r,i,n);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(o.sub(c)),this._sanitizeSphericals(),s||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._hasUpdated=!0}},{key:"lerpLookAt",value:function(a,t,e,r,i,n,s,o,c,$,h,l,v,_){var d=f.set(a,t,e),u=x.set(r,i,n);q.setFromVector3(d.sub(u));var p=f.set($,h,l);this._targetEnd.copy(u).lerp(p,v);var m=x.set(s,o,c);z.setFromVector3(m.sub(p));var w=z.theta-q.theta,E=z.phi-q.phi,U=z.radius-q.radius;this._sphericalEnd.set(q.radius+U*v,q.phi+E*v,q.theta+w*v),this._sanitizeSphericals(),_||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._hasUpdated=!0}},{key:"setPosition",value:function(a,t,e,r){this.setLookAt(a,t,e,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}},{key:"setTarget",value:function(a,t,e,r){var i=this.getPosition(f);this.setLookAt(i.x,i.y,i.z,a,t,e,r)}},{key:"setBoundary",value:function(a){if(!a)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._hasUpdated=!0);this._boundary.copy(a),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._hasUpdated=!0}},{key:"setViewport",value:function(a,t,e,r){null!==a?(this._viewport=this._viewport||new b.Vector4,"number"==typeof a?this._viewport.set(a,t,e,r):this._viewport.copy(a)):this._viewport=null}},{key:"getDistanceToFit",value:function(a,t,e){var r=this._camera,i=a/t,n=r.fov*b.Math.DEG2RAD,s=r.aspect;return .5*(i<s?t:a/s)/Math.tan(.5*n)+.5*e}},{key:"getTarget",value:function(a){return(a&&a.isVector3?a:new b.Vector3).copy(this._targetEnd)}},{key:"getPosition",value:function(a){return(a&&a.isVector3?a:new b.Vector3).setFromSpherical(this._sphericalEnd).add(this._targetEnd)}},{key:"reset",value:function(a){this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,a)}},{key:"saveState",value:function(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._camera.zoom}},{key:"update",value:function(a){var t=this._state===g.NONE?this.dampingFactor:this.draggingDampingFactor,e=1-Math.exp(-t*a/.016),r=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,n=this._sphericalEnd.radius-this._spherical.radius,s=f.subVectors(this._targetEnd,this._target);if(Math.abs(r)>p||Math.abs(i)>p||Math.abs(n)>p||Math.abs(s.x)>p||Math.abs(s.y)>p||Math.abs(s.z)>p?(this._spherical.set(this._spherical.radius+n*e,this._spherical.phi+i*e,this._spherical.theta+r*e),this._target.add(s.multiplyScalar(e)),this._hasUpdated=!0):(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd)),0!==this._dollyControlAmount){if(this._camera.isPerspectiveCamera){var o=f.copy(f.setFromSpherical(this._sphericalEnd)).normalize().negate(),c=x.copy(o).cross(w.set(0,1,0)).normalize(),$=w.crossVectors(c,o),h=this._sphericalEnd.radius*Math.tan(this._camera.fov*b.Math.DEG2RAD*.5),l=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,v=f.copy(this._targetEnd).add(c.multiplyScalar(this._dollyControlCoord.x*h*this._camera.aspect)).add($.multiplyScalar(this._dollyControlCoord.y*h));this._targetEnd.lerp(v,l),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).add(this._target),this._camera.lookAt(this._target),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),f.setFromSpherical(this._spherical),1);var _=this._hasUpdated;return this._hasUpdated=!1,_&&this.dispatchEvent({type:"update"}),_}},{key:"toJSON",value:function(){return JSON.stringify({enabled:this.enabled,minDistance:this.minDistance,maxDistance:r(this.maxDistance),minPolarAngle:this.minPolarAngle,maxPolarAngle:r(this.maxPolarAngle),minAzimuthAngle:r(this.minAzimuthAngle),maxAzimuthAngle:r(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:this._camera.position.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray()})}},{key:"fromJSON",value:function(a,t){var e=JSON.parse(a),r=new b.Vector3().fromArray(e.position);this.enabled=e.enabled,this.minDistance=e.minDistance,this.maxDistance=s(e.maxDistance),this.minPolarAngle=e.minPolarAngle,this.maxPolarAngle=s(e.maxPolarAngle),this.minAzimuthAngle=s(e.minAzimuthAngle),this.maxAzimuthAngle=s(e.maxAzimuthAngle),this.dampingFactor=e.dampingFactor,this.draggingDampingFactor=e.draggingDampingFactor,this.dollySpeed=e.dollySpeed,this.truckSpeed=e.truckSpeed,this.dollyToCursor=e.dollyToCursor,this.verticalDragToForward=e.verticalDragToForward,this._target0.fromArray(e.target0),this._position0.fromArray(e.position0),this._targetEnd.fromArray(e.target),this._sphericalEnd.setFromVector3(r.sub(this._target0)),t||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._hasUpdated=!0}},{key:"dispose",value:function(){this._removeAllEventListeners()}},{key:"_encloseToBoundary",value:function(a,t,e){var r=t.lengthSq();if(0===r)return a;var i=x.copy(t).add(a),n=this._boundary.clampPoint(i,w).sub(i),s=n.lengthSq();if(0===s)return a.add(t);if(s===r)return a;if(0===e)return a.add(t).add(n);var o=1+e*s/t.dot(n);return a.add(x.copy(t).multiplyScalar(o)).add(n.multiplyScalar(1-e))}},{key:"_sanitizeSphericals",value:function(){this._sphericalEnd.theta=this._sphericalEnd.theta%y,this._spherical.theta+=y*Math.round((this._sphericalEnd.theta-this._spherical.theta)/y)}},{key:"_getClientRect",value:function(a){var t=this._domElement.getBoundingClientRect();return a.x=t.left,a.y=t.top,this._viewport?(a.x+=this._viewport.x,a.y+=t.height-this._viewport.w-this._viewport.y,a.z=this._viewport.z,a.w=this._viewport.w):(a.z=t.width,a.w=t.height),a}},{key:"phiSpeed",set:function(a){console.warn("phiSpeed was renamed. use azimuthRotateSpeed instead"),this.azimuthRotateSpeed=a}},{key:"thetaSpeed",set:function(a){console.warn("thetaSpeed was renamed. use polarRotateSpeed instead"),this.polarRotateSpeed=a}},{key:"boundaryEnclosesCamera",get:function(){return this._boundaryEnclosesCamera},set:function(a){this._boundaryEnclosesCamera=a,this._hasUpdated=!0}}]),t}();function fa(a){return"TouchEvent"in window&&a instanceof TouchEvent}function r(a){return isFinite(a)?a:a<0?-Number.MAX_VALUE:Number.MAX_VALUE}function s(a){return Math.abs(a)<Number.MAX_VALUE?a:a*(1/0)}var C=[],D=document.getElementsByTagName("button"),c=document.getElementsByClassName("box"),l=document.getElementsByTagName("input")[0],L="",M=[],N="",O=document.querySelector("section"),E=!1,e=["#9E9E9E","#2196F3","#9C27B0","#E91E63","#FF9800"],a=["\u51B0\u5C5E\u6027\u5F3A\u5316","\u706B\u5C5E\u6027\u5F3A\u5316","\u6697\u5C5E\u6027\u5F3A\u5316","\u5149\u5C5E\u6027\u5F3A\u5316","\u6240\u6709\u5C5E\u6027\u5F3A\u5316","\u529B\u91CF","\u667A\u529B","\u4F53\u529B","\u7CBE\u795E","\u7269\u7406\u653B\u51FB\u529B","\u9B54\u6CD5\u653B\u51FB\u529B","\u72EC\u7ACB\u653B\u51FB\u529B"],P={49:"\u5934\u80A9",50:"\u4E0A\u8863",81:"\u4E0B\u88C5",87:"\u8170\u5E26",65:"\u978B",83:"\u5168",51:"\u6B66\u5668",52:"\u79F0\u53F7",69:"\u624B\u956F",82:"\u9879\u94FE",68:"\u8F85\u52A9\u88C5\u5907",70:"\u6212\u6307",67:"\u8033\u73AF",86:"\u9B54\u6CD5\u77F3"},ga={"\u80A9":"\u5934\u80A9","\u4E0A":"\u4E0A\u8863","\u4E0B":"\u4E0B\u88C5","\u8170":"\u8170\u5E26","\u978B":"\u978B","\u5168":"\u90E8\u4F4D","\u90E8\u4F4D":"","\u6B66":"\u6B66\u5668","\u79F0":"\u79F0\u53F7","\u956F":"\u624B\u956F","\u94FE":"\u9879\u94FE","\u5DE6":"\u8F85\u52A9\u88C5\u5907","\u6212":"\u6212\u6307","\u8033":"\u8033\u73AF","\u53F3":"\u9B54\u6CD5\u77F3"},ha={"\u51B0":a[0],"\u706B":a[1],"\u6697":a[2],"\u5149":a[3],"\u5168":a[4],"\u529B":a[5],"\u667A":a[6],"\u4F53":a[7],"\u7CBE":a[8],"\u7269":a[9],"\u9B54":a[10],"\u72EC":a[11]},Q={b:a[0],h:a[1],a:a[2],g:a[3],s:a[4],l:a[5],z:a[6],t:a[7],j:a[8],w:a[9],m:a[10],d:a[11]},R={white:e[0],blue:e[1],purples:e[2],pink:e[3],orange:e[4]},F={"\u767D":e[0],"\u84DD":e[1],"\u7D2B":e[2],"\u7C89":e[3],"\u6A59":e[4]},i={cards:[]};K.install({THREE:THREE});var S=window.innerWidth,T=window.innerHeight,U=new THREE.Clock,V=new THREE.Scene,t=new THREE.PerspectiveCamera(45,S/T,.01,100),o=new THREE.CSS3DRenderer;t.position.z=6e3,o.setSize(S,T),document.getElementById("container").appendChild(o.domElement);var j=new K(t,o.domElement);function ia(){var r=function(r){(o=document.createElement("img")).className="img",o.src=h[r].url,(e=document.createElement("div")).className="element",e.appendChild(o),(a=document.createElement("div")).className="title",a.textContent=h[r].name,a.style.color=R[h[r].grade],e.appendChild(a),(c=document.createElement("div")).className="details",c.innerHTML=h[r].position+"<br>"+h[r].p_type+"<br>"+h[r].min_p+" ===> "+h[r].max_p,e.appendChild(c),e.onmouseenter=function($){document.querySelectorAll("h3").forEach(function($,o){$.innerText=h[r][["upgradable","e_pkc","hechengqi","hecheng","extra"][o]]})},e.onmouseleave=function(r){document.querySelectorAll("h3").forEach(function(r){r.innerText=""})},(t=new THREE.CSS3DObject(e)).position.x=1e4*Math.random()-6328,t.position.y=1e4*Math.random()-3960,t.position.z=1e4*Math.random(),V.add(t),C.push(t),(t=new THREE.Object3D).position.x=r%30*226-3164,t.position.y=-288*Math.floor(r/30)+1980,t.userData=h[r],i.cards.push(t),e.addEventListener("click",function(r,$){console.log(r,$)},!1)};for(var $ in h){var o,e,a,c,t;r($)}console.log("url set... OK")}function ja(){var r=function(r){if(D.hasOwnProperty(r)){var $=D[r];$.addEventListener("click",function(){0!=r?(l.value=ha[$.innerText],n()):W()})}};for(var $ in D)r($);for(var $ in document.getElementById("container").addEventListener("click",function(){return document.activeElement.blur()},!1),c)if(c.hasOwnProperty($)){var o=c[$];c[$].style.backgroundColor=""===c[$].style.backgroundColor?F[o.innerText]:"",o.addEventListener("click",function(r){r.target.style.backgroundColor=""===r.target.style.backgroundColor?F[r.target.innerText]:"",n()},!1)}document.body.onselectstart=function(){return!1},document.querySelectorAll("a").forEach(function(r,$){r.addEventListener("click",function(){14!==$?(document.querySelectorAll("a")[14].innerText=ga[r.innerText],document.querySelectorAll("a")[$].classList.add("scale-in-center"),n(),s.classList.remove("hidden")):ka()},!1)}),document.onkeydown=function(r){document.activeElement!==l?r.key in Q&&!E?(l.value=Q[r.key],n()):"1"===r.key||"2"===r.key||"3"===r.key||"4"===r.key||"5"===r.key?c[r.key-1].click():"Enter"===r.key?l.focus():"Shift"===r.key?E||(E=!0,document.getElementsByClassName("whole-p")[0].classList.remove("hidden")):r.keyCode in P&&E?(document.getElementsByClassName("pos")[0].children[0].innerText=P[r.keyCode],document.querySelectorAll("a")[14].classList.add("scale-in-center"),n()):"Space"===r.code&&W():"Enter"===r.key&&l.blur()},document.onkeyup=function(r){document.activeElement!==l&&"Shift"===r.key&&(E=!1,document.getElementsByClassName("whole-p")[0].classList.add("hidden"))},l.addEventListener("change",function(){n()}),window.addEventListener("resize",na,!1),console.log("Event setup ... OK")}function ka(){var r=document.getElementsByClassName("whole-p")[0];r.classList.length>1?r.classList.remove("hidden"):r.classList.add("hidden")}function la(){return document.getElementsByClassName("pos")[0].children[0].innerText}function ma(){return l.value}function n(){j.reset(!0),L=ma(),M=oa();var r=la();N="\u5168"===r||"\u90E8\u4F4D"===r?"":r,console.log(L,M,N);for(var $=0,o=0;o<i.cards.length;o++){var e=i.cards[o],a=void 0===e.userData.position?"":e.userData.position;e.userData.p_type.search(L)>-1&&M.includes(e.userData.grade)&&a.search(N)>-1?(i.cards[o].position.x=(o-$)%30*226-3164,i.cards[o].position.y=-288*Math.floor((o-$)/30)+1980,i.cards[o].position.z=0):(i.cards[o].position.x=3616-$/5,i.cards[o].position.y=-h.length/30*288+1980-$/10,i.cards[o].position.z=$/5,$++)}X(i.cards,500)}function W(){for(var r in L="",l.value="",c)if(c.hasOwnProperty(r)){var $=c[r];c[r].style.backgroundColor=F[$.innerText]}M=["white","blue","purples","pink","orange"],N="",document.getElementsByClassName("pos")[0].children[0].innerText="\u90E8\u4F4D",n()}function X(r,$){m.removeAll();for(var o=0;o<C.length;o++){var e=C[o],a=r[o];new m.Tween(e.position).to({x:a.position.x,y:a.position.y,z:a.position.z},Math.random()*$+$).easing(m.Easing.Exponential.InOut).start(),new m.Tween(e.rotation).to({x:a.rotation.x,y:a.rotation.y,z:a.rotation.z},Math.random()*$+$).easing(m.Easing.Exponential.InOut).start()}new m.Tween(this).to({},2*$).onUpdate(u).start()}function na(){o.setSize(window.innerWidth,window.innerHeight),VANTA.current.resize(),t.updateProjectionMatrix(),u()}function oa(){var r=[];for(var $ in c){if(c.hasOwnProperty($))""!==c[$].style.backgroundColor&&r.push(Object.keys(R)[$])}return r}function Y(){var r=U.getDelta(),$=(U.getElapsedTime(),j.update(r));requestAnimationFrame(Y),m.update(),$&&u()}function u(){o.render(V,t)}function pa(){VANTA.CLOUDS({el:"#container"}),console.log("background set ... OK")}function qa(){return fetch("https://obs-e263.obs.ap-southeast-1.myhuaweicloud.com/final.json").then(function(r){return r.json()}).catch(function(r){console.log(document.querySelector("input").value="\u6570\u636E\u83B7\u53D6\u7C97\u9519"),console.error("Error:",r)})}j.minDistance=10,j.maxDistance=6e3,j.enableDamping=!0,j.dollyToCursor=!0,j.azimuthRotateSpeed=1,j.polarRotateSpeed=1,j.dollySpeed=2,j.truckSpeed=1,j.dampingFactor=.1,document.addEventListener("DOMContentLoaded",function(){pa(),qa().then(function(r){var $MGc$$interop$default=Z(_);h=r,console.log("data set ... OK"),O.classList.remove("hidden"),O.classList.add("text-focus-in"),document.querySelectorAll("a").forEach(function(r){r.addEventListener("animationend",function(r){r.target.classList.remove("scale-in-center")})}),ia(),ja(),u(),console.log("render object ... OK"),$MGc$$interop$default.d(document,function(){console.log("image load ... OK"),X(i.cards,1e3),Y()})})});return{"Focm":{}};});